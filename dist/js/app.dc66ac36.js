(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],y=0,p=[];y<o.length;y++)i=o[y],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},s={app:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"08b6":function(t,e,r){},"352d":function(t,e,r){"use strict";r("3af6")},"3af6":function(t,e,r){},"42fc":function(t,e,r){"use strict";r("08b6")},"4aa2":function(t,e,r){"use strict";r("7f80")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"pgContainer"},[r("cover-bar-container"),r("div",{staticClass:"rightContainer"},[r("div",[r("h1",[t._v("MP3 player")]),0!=t.playList.length?r("img",{attrs:{src:t.config.serverAdress+"/img/playList.svg"},on:{click:function(e){return t.changeStatus()}}}):t._e()]),r("song-list")],1)],1),r("footer",[r("playerComponent")],1)])},a=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"coverBarContainer"},t._l(t.coverArray,(function(e){return r("img",{key:e.src,attrs:{src:t.config.serverAdress+e.source},on:{click:function(r){return t.newCover(e.path)}}})})),0)},o=[],c=r("f355"),u={name:"coverBar",computed:{coverArray:function(){return this.$store.getters.getCoverArray}},data:function(){return{config:c}},methods:{newCover:function(t){this.$store.commit("setDirectory",t)}}},l=u,y=(r("42fc"),r("2877")),p=Object(y["a"])(l,i,o,!1,null,"5c0295c6",null),h=p.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"musicContianer"},["error"==t.playArray.status?r("h1",[t._v("Podany album nie zawiera utworów")]):r("table",t._l(t.playArray,(function(e,n){return r("tr",{key:e.name,class:[{active:n==t.currentPlay},"rowContainer"]},[r("th",[r("span",[t._v(t._s(e.path))])]),r("th",[r("span",[t._v(t._s(e.name))])]),r("th",[r("span",[t._v(t._s(e.size)+".MB")])]),r("th",{on:{click:function(e){t.changeSongNumber(n),t.playPause()}}},[t.currentPlay==n&&t.playStatus?r("img",{attrs:{src:t.config.serverAdress+"/img/pause.svg"}}):r("img",{attrs:{src:t.config.serverAdress+"/img/play.svg"}})]),r("th",[t.ifPlayListContains(e)?r("img",{attrs:{src:t.config.serverAdress+"/img/heart.svg"},on:{click:function(r){return t.addToPlaylist(e)}}}):r("img",{attrs:{src:t.config.serverAdress+"/img/love.svg"},on:{click:function(r){return t.removeFromPlaylist(e)}}})])])})),0)])},m=[],d=(r("159b"),r("b0c0"),r("bc3a")),f=r.n(d),v={name:"songList",computed:{playArray:function(){return this.$store.getters.getPlayArray},currentPlay:function(){return this.$store.getters.getCurrentPlay},playStatus:function(){return this.$store.getters.getPlayStatus},playList:function(){return this.$store.getters.getPlayList}},data:function(){return{config:c}},methods:{changeSongNumber:function(t){this.$store.commit("setCurrentPlay",t)},playPause:function(){this.$store.commit("setPlayStatus")},ifPlayListContains:function(t){var e=!0;return this.playList.forEach((function(r){r.source==t.source&&(e=!1)})),e},addToPlaylist:function(t){this.$store.commit("addToPlayList",t),f()({url:c.addToPlayList,method:"POST",data:{source:t.serverSource,size:t.size,path:t.path,name:t.name},headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then((function(t){console.log(t)}))},removeFromPlaylist:function(t){this.$store.commit("removeFromPlayList",t),f()({url:c.removeFromPlayList,method:"POST",data:{source:t.serverSource,size:t.size,path:t.path,name:t.name},headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then((function(t){console.log(t)}))}}},P=v,S=(r("4aa2"),Object(y["a"])(P,g,m,!1,null,"73d83be1",null)),A=S.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"playAudio"},[r("div",{staticClass:"title"},[t._v(t._s(t.songName))]),r("div",{staticClass:"controlContainer"},[t.widoczny?r("input",{attrs:{type:"range",max:t.maxRange,min:"0"},domProps:{value:t.currentValue},on:{input:t.inputHandler}}):t._e(),r("div",{staticClass:"controls"},[r("div",[r("img",{attrs:{src:t.config.serverAdress+"/img/prev.svg"},on:{click:t.prevTrack}})]),r("div",[t.playStatus?r("img",{attrs:{src:t.config.serverAdress+"/img/pause.svg"},on:{click:t.playOrPause}}):r("img",{attrs:{src:t.config.serverAdress+"/img/play.svg"},on:{click:t.playOrPause}})]),r("div",[r("img",{attrs:{src:t.config.serverAdress+"/img/next.svg"},on:{click:t.nextTrack}})])])]),r("div",{staticClass:"progressInMin"},[r("span",[t._v(t._s(t.minProgress))])])])},L=[],b=r("1da1"),w=(r("96cf"),r("99af"),r("d3b7"),r("25f0"),{name:"playerComponent",computed:{playArray:function(){return this.$store.getters.getPlayArray},currentPlay:function(){return this.$store.getters.getCurrentPlay},playStatus:function(){return this.$store.getters.getPlayStatus},directory:function(){return this.$store.getters.getDirectory},playListStatus:function(){return this.$store.getters.getPlayListStatus}},data:function(){return{config:c,player:null,songName:"Nie wybrano utworu",minProgress:"",widoczny:!1,maxRange:null,currentValue:0}},methods:{inputChanger:function(t){this.currentValue=t.target.currentTime,this.maxRange=t.target.duration;var e=0,r=0,n=0,s=0;e=new Date(1e3*t.target.currentTime).getSeconds()<10?"0".concat(new Date(1e3*t.target.currentTime).getSeconds()):new Date(1e3*t.target.currentTime).getSeconds(),r=new Date(1e3*t.target.currentTime).getMinutes()<10?"0".concat(new Date(1e3*t.target.currentTime).getMinutes()):new Date(1e3*t.target.currentTime).getMinutes(),s=new Date(1e3*this.player.duration).getMinutes()<10?"0".concat(new Date(1e3*this.player.duration).getMinutes()):new Date(1e3*this.player.duration).getMinutes(),n=new Date(1e3*this.player.duration).getSeconds()<10?"0".concat(new Date(1e3*this.player.duration).getSeconds()):new Date(1e3*this.player.duration).getSeconds(),this.minProgress="".concat(r,":").concat(e," /").concat(s,":").concat(n)},inputHandler:function(t){this.player.currentTime=t.target.value.toString(),this.currentValue=t.target.value},playOrPause:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:void 0!=t.playArray.length&&(null==t.player?
//! tutaj na pustą tablice
null==t.currentPlay&&t.$store.commit("setCurrentPlay",0):t.playStatus?t.player.pause():t.player.play(),t.widoczny=!0,null!=t.player&&(t.player.addEventListener("timeupdate",t.inputChanger),t.player.addEventListener("ended",t.nextTrack)),t.songName="Aktualnie odtwarzany : ".concat(t.playArray[t.currentPlay].name," \n z albumu :\n\n      ").concat(t.playArray[t.currentPlay].album),t.$store.commit("setPlayStatus"));case 1:case"end":return e.stop()}}),e)})))()},nextTrack:function(){void 0!=this.playArray.length&&1==this.playArray.length&&(
//!
this.$store.commit("setCurrentPlay",0),this.player&&(this.player.loop=!0,this.player.currentTime=0,this.player.play())),1!=this.playArray.length&&(this.currentPlay==this.playArray.length-1?this.$store.commit("setCurrentPlay",0):this.$store.commit("setCurrentPlay",this.currentPlay+1))},prevTrack:function(){void 0!=this.playArray.length&&(0==this.currentPlay||null==this.currentPlay?//!
this.$store.commit("setCurrentPlay",this.playArray.length-1):this.$store.commit("setCurrentPlay",this.currentPlay-1))},setPlay:function(){this.$store.dispatch("getMusic"),this.$store.commit("resetPlaylist"),null!=this.player&&(this.player.pause(),this.player.removeEventListener("timeupdate",this.inputChanger),this.player.removeEventListener("ended",this.nextTrack)),this.widoczny=!1,this.player=null,this.songName="Nie wybrano utworu",this.minProgress=""}},watch:{"$store.state.directory":function(){this.setPlay()},currentPlay:function(){void 0!=this.playArray.length&&(this.playStatus&&this.$store.commit("setPlayStatus"),null!=this.currentPlay&&(null!=this.player&&this.player.pause(),this.player=new Audio(this.playArray[this.currentPlay].source),this.playOrPause()))},playStatus:function(){this.player&&(this.playStatus?this.player.play():this.player.pause())},"$store.state.playListStatus":function(){this.playListStatus?(this.$store.commit("setMusic",this.$store.getters.getPlayList),this.$store.commit("resetPlaylist"),null!=this.player&&(this.player.pause(),this.player.removeEventListener("timeupdate",this.inputChanger),this.player.removeEventListener("ended",this.nextTrack)),this.widoczny=!1,this.player=null,this.songName="Nie wybrano utworu",this.minProgress=""):this.setPlay()}}}),T=w,$=(r("352d"),Object(y["a"])(T,C,L,!1,null,"c5b5ac2e",null)),k=$.exports,O={name:"App",components:{coverBarContainer:h,SongList:A,playerComponent:k},computed:{playList:function(){return 0==this.$store.getters.getPlayList&&this.$store.getters.getPlayListStatus&&(this.$store.dispatch("getPlayList"),this.$store.commit("setPlayListStatus")),this.$store.getters.getPlayList}},mounted:function(){this.$store.dispatch("getCovers"),this.$store.dispatch("getPlayList"),document.title="Odtwarzacz MP3"},methods:{changeStatus:function(){this.$store.commit("setPlayListStatus")}},data:function(){return{config:c}}},_=O,x=(r("034f"),Object(y["a"])(_,s,a,!1,null,null,null)),M=x.exports,D=(r("a434"),r("d81d"),r("2f62"));n["a"].use(D["a"]);var j=new D["a"].Store({state:{playArray:[],coverArray:[],directory:"",currentPlay:0,playStatus:!1,playListMode:!1,describeText:"",playList:[],playListStatus:!1},mutations:{setDirection:function(t,e){t.directory=e},setCoversArray:function(t,e){t.coverArray=e},setDirectory:function(t,e){t.directory=e},setMusic:function(t,e){t.playArray=e},setCurrentPlay:function(t,e){t.currentPlay=e},resetPlaylist:function(t){t.currentPlay=null,t.playStatus=!1},setPlayStatus:function(t){t.playStatus=!t.playStatus},setDisplayText:function(t,e){t.describeText=e},setPlaylist:function(t,e){t.playList=e},addToPlayList:function(t,e){t.playList.push(e)},removeFromPlayList:function(t,e){t.playList.forEach((function(r,n){JSON.stringify(r)==JSON.stringify(e)&&t.playList.splice(n,1)}))},setPlayListStatus:function(t){t.playListStatus=!t.playListStatus}},actions:{getCovers:function(t){f()({url:c.getCovers,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then((function(e){t.commit("setCoversArray",e.data),t.commit("setDirectory",e.data[0].path)}))},getMusic:function(t){f()({url:c.getMusic,method:"POST",data:{path:t.getters.getDirectory},headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then((function(e){var r=e.data;"error"!=e.data.status&&r.map((function(t){t.album=t.path,t.serverSource=t.source,t.source=encodeURI(c.serverAdress+t.source)})),t.commit("setMusic",r)}))},getPlayList:function(t){f()({url:c.getPlayList,method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then((function(e){var r=e.data;"error"!=e.data.status&&(r.map((function(t){t.album=t.path,t.serverSource=t.source,t.source=encodeURI(c.serverAdress+t.source)})),t.commit("setPlaylist",r))}))}},getters:{getPlayArray:function(t){return t.playArray},getCoverArray:function(t){return t.coverArray},getDirectory:function(t){return t.directory},getCurrentPlay:function(t){return t.currentPlay},getPlayStatus:function(t){return t.playStatus},getDescribeText:function(t){return t.getDescribeText},getPlayList:function(t){return t.playList},getPlayListStatus:function(t){return t.playListStatus}}});n["a"].config.productionTip=!1,new n["a"]({store:j,render:function(t){return t(M)}}).$mount("#app")},"7f80":function(t,e,r){},"85ec":function(t,e,r){},f355:function(t){t.exports=JSON.parse('{"serverAdress":"https://mp3vueback.herokuapp.com","getCovers":"https://mp3vueback.herokuapp.com/getCovers","getMusic":"https://mp3vueback.herokuapp.com/getMusic","addToPlayList":"https://mp3vueback.herokuapp.com/addToPlayList","removeFromPlayList":"https://mp3vueback.herokuapp.com/removeFromPlayList","getPlayList":"https://mp3vueback.herokuapp.com/getPlayList"}')}});
//# sourceMappingURL=app.dc66ac36.js.map